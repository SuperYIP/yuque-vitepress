import{_ as s,c as i,o as a,U as n}from"./chunks/framework.fNqm3e01.js";const t="/assets/1d9f80ff36ef6238168d6a57d7b236b8.pyk6GUMQ.png",e="/assets/93753cf1dd457a351612418236f431ea.9StXo1Pi.png",p="/assets/f85d99419ac0039ec6a30605b2dd76e5.LBQnFu-Y.png",m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/外推系统3.0记录/CMS外推3.0系统，启动职位详情页组件，获取不到职位信息.md","filePath":"docs/外推系统3.0记录/CMS外推3.0系统，启动职位详情页组件，获取不到职位信息.md","lastUpdated":1704357645000}'),h={name:"docs/外推系统3.0记录/CMS外推3.0系统，启动职位详情页组件，获取不到职位信息.md"},l=n('<p>启动职位详情页组件后，提供的链接为：<a href="https://m.flight.qunar.com/shark/active/272a13eb50ede8c6316e5b9477e551eb?proxyWebIDEDomain=webide.beta.qunar.com/haidi-yi/0i2ql6l2/8009&amp;proxyComponents=cmsQfcJobDetail" target="_blank" rel="noreferrer">https://m.flight.qunar.com/shark/active/272a13eb50ede8c6316e5b9477e551eb?proxyWebIDEDomain=webide.beta.qunar.com/haidi-yi/0i2ql6l2/8009&amp;proxyComponents=cmsQfcJobDetail</a><br>同样，需要将<code>m.flight.qunar.com</code>域名替换为<code>talent.qunar.com</code>，替换后输入手机号及验证码后页面的职位信息为空，如下图所示：<br><img src="'+t+'" alt="image.png"><br>打开控制台-&gt;网络，发现已经请求了<br><a href="./">https://talent.qunar.com/herqa/user/getUserInfo?r=5.0104325943763905</a>接口，这是个GET请求，直接打开链接可以看到请求返回的信息：<br><img src="'+e+`" alt="image.png"></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 20230816155818</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// https://talent.qunar.com/herqa/user/getUserInfo?r=5.0104325943763905</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1864</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;userId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a3f817717c3c45d2ab3be15f1746c7cd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;userName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;伊海迪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;userPhone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;13130813797&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;userEmail&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;haidi.yi@qunar.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;userWechatId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;userType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;createTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2023-08-08T16:00:00.000+00:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2023-08-08T16:00:00.000+00:00&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>所以此时已经登陆成功，但是却没有获得职位信息，原因是CMS是每次启动单个页面，正常从职位列表页到职位详情页，会传递过去要请求的职位信息参数：<code>jobId=964d15e8-0e91-475d-bc20-2da898f2c1e9</code>。通过加入断点，也可以看到，此时参数只有两个，没有<code>jobId</code>参数：<br><img src="`+p+'" alt="image.png"><br>综上，请求职位信息接口的参数不足，所以无法获取数据。<br>解决方式：在原本请求链接的后面再拼接上<code>jobId</code>参数，拼接后链接为：<br><a href="https://talent.qunar.com/shark/active/272a13eb50ede8c6316e5b9477e551eb?proxyWebIDEDomain=webide.beta.qunar.com/haidi-yi/0i2ql6l2/8009&amp;proxyComponents=cmsQfcJobDetail&amp;jobId=964d15e8-0e91-475d-bc20-2da898f2c1e9" target="_blank" rel="noreferrer">https://talent.qunar.com/shark/active/272a13eb50ede8c6316e5b9477e551eb?proxyWebIDEDomain=webide.beta.qunar.com/haidi-yi/0i2ql6l2/8009&amp;proxyComponents=cmsQfcJobDetail&amp;jobId=964d15e8-0e91-475d-bc20-2da898f2c1e9</a></p>',3),k=[l];function r(o,d,E,c,g,u){return a(),i("div",null,k)}const q=s(h,[["render",r]]);export{m as __pageData,q as default};
